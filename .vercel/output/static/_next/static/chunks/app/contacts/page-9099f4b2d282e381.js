(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[102],{103:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>c,Es:()=>m,L3:()=>x,c7:()=>u,lG:()=>o,rr:()=>p});var n=a(5177);a(1741);var i=a(7759),s=a(2822),r=a(2168);function o({...e}){return(0,n.jsx)(i.bL,{"data-slot":"dialog",...e})}function d({...e}){return(0,n.jsx)(i.ZL,{"data-slot":"dialog-portal",...e})}function l({className:e,...t}){return(0,n.jsx)(i.hJ,{"data-slot":"dialog-overlay",className:(0,r.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function c({className:e,children:t,showCloseButton:a=!0,...o}){return(0,n.jsxs)(d,{"data-slot":"dialog-portal",children:[(0,n.jsx)(l,{}),(0,n.jsxs)(i.UC,{"data-slot":"dialog-content",className:(0,r.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...o,children:[t,a&&(0,n.jsxs)(i.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,n.jsx)(s.A,{}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function u({className:e,...t}){return(0,n.jsx)("div",{"data-slot":"dialog-header",className:(0,r.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function m({className:e,...t}){return(0,n.jsx)("div",{"data-slot":"dialog-footer",className:(0,r.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function x({className:e,...t}){return(0,n.jsx)(i.hE,{"data-slot":"dialog-title",className:(0,r.cn)("text-lg leading-none font-semibold",e),...t})}function p({className:e,...t}){return(0,n.jsx)(i.VY,{"data-slot":"dialog-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...t})}},180:(e,t,a)=>{"use strict";a.d(t,{SQ:()=>d,_2:()=>l,rI:()=>r,ty:()=>o});var n=a(5177);a(1741);var i=a(9974),s=a(2168);function r({...e}){return(0,n.jsx)(i.bL,{"data-slot":"dropdown-menu",...e})}function o({...e}){return(0,n.jsx)(i.l9,{"data-slot":"dropdown-menu-trigger",...e})}function d({className:e,sideOffset:t=4,...a}){return(0,n.jsx)(i.ZL,{children:(0,n.jsx)(i.UC,{"data-slot":"dropdown-menu-content",sideOffset:t,className:(0,s.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...a})})}function l({className:e,inset:t,variant:a="default",...r}){return(0,n.jsx)(i.q7,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":a,className:(0,s.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}},1455:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>k});var n=a(5177),i=a(1741),s=a(8635),r=a(103),o=a(4605),d=a(2091);function l({open:e,onOpenChange:t,contact:a,onSave:l}){let[c,u]=(0,i.useState)({name:a?.name||"",email:a?.email||"",phone:a?.phone||"",company:a?.company||"",position:a?.position||""});return(0,n.jsx)(r.lG,{open:e,onOpenChange:t,children:(0,n.jsx)(r.Cf,{className:"sm:max-w-[500px]",children:(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),l(c),t(!1),u({name:"",email:"",phone:"",company:"",position:""})},children:[(0,n.jsxs)(r.c7,{children:[(0,n.jsx)(r.L3,{children:a?"Kişiyi D\xfczenle":"Yeni Kişi Ekle"}),(0,n.jsx)(r.rr,{children:a?"Kişi bilgilerini g\xfcncelleyin.":"Yeni bir kişi eklemek i\xe7in bilgileri doldurun."})]}),(0,n.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(d.J,{htmlFor:"name",children:"İsim"}),(0,n.jsx)(o.p,{id:"name",value:c.name,onChange:e=>u({...c,name:e.target.value}),required:!0})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(d.J,{htmlFor:"email",children:"E-posta"}),(0,n.jsx)(o.p,{id:"email",type:"email",value:c.email,onChange:e=>u({...c,email:e.target.value}),required:!0})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(d.J,{htmlFor:"phone",children:"Telefon"}),(0,n.jsx)(o.p,{id:"phone",type:"tel",value:c.phone,onChange:e=>u({...c,phone:e.target.value})})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(d.J,{htmlFor:"company",children:"Şirket"}),(0,n.jsx)(o.p,{id:"company",value:c.company,onChange:e=>u({...c,company:e.target.value})})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(d.J,{htmlFor:"position",children:"Pozisyon"}),(0,n.jsx)(o.p,{id:"position",value:c.position,onChange:e=>u({...c,position:e.target.value})})]})]}),(0,n.jsxs)(r.Es,{children:[(0,n.jsx)(s.$,{type:"button",variant:"outline",onClick:()=>t(!1),children:"İptal"}),(0,n.jsx)(s.$,{type:"submit",children:"Kaydet"})]})]})})})}var c=a(2168);function u({className:e,...t}){return(0,n.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,n.jsx)("table",{"data-slot":"table",className:(0,c.cn)("w-full caption-bottom text-sm",e),...t})})}function m({className:e,...t}){return(0,n.jsx)("thead",{"data-slot":"table-header",className:(0,c.cn)("[&_tr]:border-b",e),...t})}function x({className:e,...t}){return(0,n.jsx)("tbody",{"data-slot":"table-body",className:(0,c.cn)("[&_tr:last-child]:border-0",e),...t})}function p({className:e,...t}){return(0,n.jsx)("tr",{"data-slot":"table-row",className:(0,c.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function h({className:e,...t}){return(0,n.jsx)("th",{"data-slot":"table-head",className:(0,c.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function g({className:e,...t}){return(0,n.jsx)("td",{"data-slot":"table-cell",className:(0,c.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}var f=a(180),v=a(6510),b=a(4407),j=a(9879);function y({contacts:e,onEdit:t,onDelete:a}){return 0===e.length?(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,n.jsx)("p",{className:"text-muted-foreground text-lg",children:"Hen\xfcz kişi eklenmemiş"}),(0,n.jsx)("p",{className:"text-muted-foreground text-sm mt-2",children:"Yeni kişi eklemek i\xe7in yukarıdaki butonu kullanın"})]}):(0,n.jsx)("div",{className:"rounded-lg border bg-card",children:(0,n.jsxs)(u,{children:[(0,n.jsx)(m,{children:(0,n.jsxs)(p,{children:[(0,n.jsx)(h,{children:"İsim"}),(0,n.jsx)(h,{children:"E-posta"}),(0,n.jsx)(h,{children:"Telefon"}),(0,n.jsx)(h,{children:"Şirket"}),(0,n.jsx)(h,{children:"Pozisyon"}),(0,n.jsx)(h,{className:"w-12"})]})}),(0,n.jsx)(x,{children:e.map(e=>(0,n.jsxs)(p,{children:[(0,n.jsx)(g,{className:"font-medium",children:e.name}),(0,n.jsx)(g,{children:e.email}),(0,n.jsx)(g,{children:e.phone||"-"}),(0,n.jsx)(g,{children:e.company||"-"}),(0,n.jsx)(g,{children:e.position||"-"}),(0,n.jsx)(g,{children:(0,n.jsxs)(f.rI,{children:[(0,n.jsx)(f.ty,{asChild:!0,children:(0,n.jsx)(s.$,{variant:"ghost",size:"icon",children:(0,n.jsx)(v.A,{className:"h-4 w-4"})})}),(0,n.jsxs)(f.SQ,{align:"end",children:[(0,n.jsxs)(f._2,{onClick:()=>t(e),children:[(0,n.jsx)(b.A,{className:"mr-2 h-4 w-4"}),"D\xfczenle"]}),(0,n.jsxs)(f._2,{onClick:()=>a(e.id),className:"text-destructive",children:[(0,n.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Sil"]})]})]})})]},e.id))})]})})}var w=a(6382);function k(){let[e,t]=(0,i.useState)([]),[a,r]=(0,i.useState)(!0),[o,d]=(0,i.useState)(!1),[u,m]=(0,i.useState)(null);(0,i.useEffect)(()=>{x()},[]);let x=async()=>{try{let e=await fetch("/api/contacts"),a=await (0,c.l)(e);t(a)}catch(e){console.error("[v0] Error loading contacts:",e)}finally{r(!1)}},p=async a=>{try{if(u){let n=await fetch(`/api/contacts/${u.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),i=await (0,c.l)(n);t(e.map(e=>e.id===i.id?i:e))}else{let n=await fetch("/api/contacts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),i=await (0,c.l)(n);t([...e,i])}m(null)}catch(e){console.error("[v0] Error saving contact:",e)}},h=async a=>{if(confirm("Bu kişiyi silmek istediğinizden emin misiniz?"))try{await fetch(`/api/contacts/${a}`,{method:"DELETE"}),t(e.filter(e=>e.id!==a))}catch(e){console.error("[v0] Error deleting contact:",e)}};return a?(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsx)("p",{className:"text-muted-foreground",children:"Y\xfckleniyor..."})}):(0,n.jsx)("div",{className:"min-h-screen bg-background",children:(0,n.jsxs)("div",{className:"container mx-auto py-8 px-4 max-w-7xl",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-balance",children:"Kişiler"}),(0,n.jsx)("p",{className:"text-muted-foreground mt-1",children:"T\xfcm kişilerinizi y\xf6netin"})]}),(0,n.jsxs)(s.$,{onClick:()=>d(!0),children:[(0,n.jsx)(w.A,{className:"mr-2 h-4 w-4"}),"Yeni Kişi"]})]}),(0,n.jsx)(y,{contacts:e,onEdit:e=>{m(e),d(!0)},onDelete:h}),(0,n.jsx)(l,{open:o,onOpenChange:e=>{d(e),e||m(null)},contact:u,onSave:p})]})})}},2091:(e,t,a)=>{"use strict";a.d(t,{J:()=>r});var n=a(5177);a(1741);var i=a(2263),s=a(2168);function r({className:e,...t}){return(0,n.jsx)(i.b,{"data-slot":"label",className:(0,s.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}},2168:(e,t,a)=>{"use strict";a.d(t,{cn:()=>s,l:()=>r});var n=a(1223),i=a(5382);function s(...e){return(0,i.QP)((0,n.$)(e))}async function r(e){let t=await e.text(),a=`${e.status} ${e.statusText}`.trim(),n=t.length>0,i=null;if(n)try{i=JSON.parse(t)}catch(n){if(!e.ok)throw Error(t||a||"Request failed");throw n}if(!e.ok)throw Error((i&&"string"==typeof i.error?i.error:n?t:a)||"Request failed");return i}},3842:(e,t,a)=>{Promise.resolve().then(a.bind(a,1455))},4605:(e,t,a)=>{"use strict";a.d(t,{p:()=>s});var n=a(5177);a(1741);var i=a(2168);function s({className:e,type:t,...a}){return(0,n.jsx)("input",{type:t,"data-slot":"input",className:(0,i.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...a})}},8635:(e,t,a)=>{"use strict";a.d(t,{$:()=>d});var n=a(5177);a(1741);var i=a(9320),s=a(5119),r=a(2168);let o=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function d({className:e,variant:t,size:a,asChild:s=!1,...d}){let l=s?i.DX:"button";return(0,n.jsx)(l,{"data-slot":"button",className:(0,r.cn)(o({variant:t,size:a,className:e})),...d})}}},e=>{e.O(0,[717,113,745,562,358],()=>e(e.s=3842)),_N_E=e.O()}]);